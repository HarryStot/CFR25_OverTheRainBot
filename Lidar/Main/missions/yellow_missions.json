{
  "variables": {
    "x_c": 0,
    "y_c": 0,
    "z_c": 0,
    "x_d": 0,
    "y_d": 0,
    "z_d": 0,
    "x_r": 0,
    "y_r": 0,
    "z_r": 0,
    "h0": 10,
    "h1": 20,
    "h2": 30,
    "h3": 40,
    "h4": 50,
    "id_1": 1,
    "id_2": 2,
    "id_3": 3,
    "id_4": 4,
    "id_p": 5,
    "angle_po": 0,
    "angle_pf": 90,
    "v_p": 50,
    "angle_e1": 0,
    "angle_e4": 90,
    "v_e": 0,
    "angle_r1": 0,
    "angle_r4": 90,
    "v_r": 0,
    "angle_d": 0,
    "v_d": 0,
    "a_i1": 0,
    "a_i2": 0,
    "a_i3": 0,
    "a_i4": 0,
    "v_i": 0,
    "default_time": -1
  },

  "task_templates": {
    "raise_during_movement": {
      "command": "STEP",
      "params": {
        "": "$h2"
      },
      "completion_time": "$default_time"
    },
    "put_ground": {
      "command": "STEP",
      "params": {
        "": "$h0"
      },
      "completion_time": "$default_time"
    },
    "grab_plank": {
      "command": "SRV",
      "params": {
        "$id_p": ":$angle_pf:$v_p"
      },
      "completion_time": "$default_time"
    },
    "cans_to_ext": {
      "command": "SRV",
      "params": {
        "$id_1": ":$angle_e1:$v_e",
        "$id_2": ":$angle_e4:$v_e"
      },
      "completion_time": "$default_time"
    },
    "demagnetize_middle_cans": {
      "command": "SRV",
      "params": {
        "$id_2": ":$angle_d:$v_d",
        "$id_3": ":$angle_d:$v_d"
      },
      "completion_time": "$default_time"
    },
    "put_middle_cans_in_front": {
      "command": "SRV",
      "params": {
        "$id_2": ":$angle_i2:$v_i",
        "$id_3": ":$angle_i3:$v_i"
      },
      "completion_time": "$default_time"
    },
    "raise_over_the_plank": {
      "command": "STEP",
      "params": {
        "": "$h4"
      },
      "completion_time": "$default_time"
    },
    "put_cans_in_front": {
      "command": "SRV",
      "params": {
        "$id_1": ":$angle_r1:$v_r",
        "$id_4": ":$angle_r4:$v_r"
      },
      "completion_time": "$default_time"
    },
    "put_cans_on_plank": {
      "command": "STEP",
      "params": {
        "": "$h3"
      },
      "completion_time": "$default_time"
    },
    "drop_plank": {
      "command": "SRV",
      "params": {
        "$id_p": ":$angle_po:$v_p"
      },
      "completion_time": "$default_time"
    },
    "demagnetize_ext_cans": {
      "command": "SRV",
      "params": {
        "$id_1": ":$angle_d1:$v_d",
        "$id_4": ":$angle_d4:$v_d"
      },
      "completion_time": "$default_time"
    },
    "put_magnets_in_front": {
      "command": "SRV",
      "params": {
        "$id_1": ":$angle_i1:$v_i",
        "$id_4": ":$angle_i4:$v_i"
      },
      "completion_time": "$default_time"
    }
  },

  "movement_templates": {
    "precision_approach": [
      {"command": "V", "params": {"speed": "$precision_movement_speed"}},
      {"command": "F", "params": {"distance": 5}}
    ],
    "turn_around": [
      {"command": "V", "params": {"speed": "$rotation_speed"}},
      {"command": "R", "params": {"angle": 180}}
    ],
    "back_up": [
      {"command": "V", "params": {"speed": "$movement_speed"}},
      {"command": "B", "params": {"distance": 5}}
    ]
  },

  "action_sequences": {
    "deposit": {
      "steps": [
        {"type": "task", "template": "put_ground"},
        {"type": "task", "template": "grab_plank"},
        {"type": "task", "template": "cans_to_ext"},
        {"type": "task", "template": "demagnetize_middle_cans"},
        {"type": "movement", "template": "back_up"},
        {"type": "task", "template": "put_middle_cans_in_front"},
        {"type": "task", "template": "raise_over_the_plank"},
        {"type": "movement", "template": "precision_approach"},
        {"type": "task", "template": "put_cans_in_front"},
        {"type": "task", "template": "put_cans_on_plank"},
        {"type": "task", "template": "drop_plank"},
        {"type": "task", "template": "demagnetize_ext_cans"},
        {"type": "movement", "template": "back_up"},
        {"type": "task", "template": "put_magnets_in_front"},
        {"type": "task", "template": "put_ground"}
      ]
    }
  },

  "locations": [
    {
      "name": "BlueStart",
      "x": 177.5,
      "y": 5.0,
      "orientation": 90,
      "tasks": []
    },
    {
      "name": "Check 1",
      "x": 110.0,
      "y": 80.0,
      "orientation": 90,
      "tasks": []
    },
    {
      "name": "Check 2",
      "x": 122.5,
      "y": 40.0,
      "orientation": -90,
      "tasks": []
    },
    {
      "name": "Check 3",
      "x": 77.5,
      "y": 40.0,
      "orientation": -90,
      "tasks": []
    },
    {
      "name": "Check 4",
      "x": 122.5,
      "y": 40.0,
      "orientation": -90,
      "tasks": []
    },
    {
      "name": "Check 5",
      "x": 20.0,
      "y": 40.0,
      "orientation": 90,
      "tasks": []
    },
    {
      "name": "Check 6",
      "x": 122.5,
      "y": 40.0,
      "orientation": -90,
      "tasks": []
    },
    {
      "name": "Check 7",
      "x": 37.5,
      "y": 180.0,
      "orientation": 90,
      "tasks": []
    },
    {
      "name": "FirstBlueStock",
      "x": 190.0,
      "y": 80.0,
      "orientation": 90,
      "tasks": [
        {
          "name": "RaiseDuringMovement",
          "template": "raise_during_movement"
        }
      ]
    },
    {
      "name": "BlueDropToFirstDeposit",
      "x": 177.5,
      "y": 40.0,
      "orientation": -90,
      "action_sequence": "deposit"
    }
  ]
}
